<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="utf-8">
		<title>Roking-A11y APCA Evaluator</title>
		<style type="text/css">
			body {
				margin: auto;
				user-select: none;
				width: 80%;
			}
			button {
				border-radius: 0.25rem;
				font-size: 1.5rem;
				margin: 0.2rem
			}
			button:not([disabled]) {
				background-color: hsl(204, 100%, 60%);
				border: 0.0625em solid hsl(204, 100%, 30%);
				color: hsl(204, 100%, 5%);
			}
		</style>
	</head>
	<body>
		<main>
			<h1>Roking-A11y APCA Evaluator</h1>
			<div style="display: flex;">
			  <table style="align-self: flex-start;">
			    <thead>
      			<tr>
			        <th>Type</th>
			        <th id="background-label">Background</th>
			        <th id="foreground-label">Foreground</th>
			        <th>Result</th>
			      </tr>
			    </thead>
			    <tbody>
      			<tr>
			        <td>Dark text on light background</td>
      			  <td>
			          <input aria-labelledBy="background-label" id="background" type="text" value="#fff"/>
			   			</td>
				      <td>
      			    <input aria-labelledBy="foreground-label" id="foreground" type="text" value="#000"/>
			        </td>
			        <td id="results"></td>
			      </tr>
			      <tr>
      			  <td>Light text on a dark background</td>
			        <td>
      			    <input aria-labelledBy="background-label" id="background-reverse" type="text" value="#000"/>
			        </td>
			        <td>
			          <input aria-labelledBy="foreground-label" id="foreground-reverse" type="text" value="#fff"/>
			        </td>
			        <td id="results-reverse"></td>
			      </tr>
			    </tbody>
			    <tfoot>
			      <tr>
      			  <th colspan="4">
			          <button type="button" onclick="onClick()">Calculate</button>
			        </th>
			    </tfoot>
			  </table>
			  <div id="fonts"></div>
			</div>
		</main>

    <script src="apca.min.js"></script>
    <script>
			function onClick() {
			  const bgn = document.getElementById('background').value;
			  const txn = document.getElementById('foreground').value;
			  const bgr = document.getElementById('background-reverse').value;
			  const txr = document.getElementById('foreground-reverse').value;

			  const apca = new APCA({background: bgn, foreground: txn});
			  const rapc = new APCA({background: bgr, foreground: txr});

			  document.getElementById('results').innerHTML = apca.score();
			  document.getElementById('results-reverse').innerHTML = rapc.score();
			  document.getElementById('fonts').innerHTML = '';
			  document.getElementById('fonts').appendChild(apca.Fonts.toHtml());
			}
    </script>
	</body>
</html>
